(this["webpackJsonpbe-users"]=this["webpackJsonpbe-users"]||[]).push([[0],[,,function(e,t,n){e.exports={UsersHead:"UsersHead_UsersHead__1pT2u",icons:"UsersHead_icons__2R9yS",sort:"UsersHead_sort__1nPnX"}},,,,,,,,function(e,t,n){e.exports={UserLine:"UserLine_UserLine__1kCvU",edit:"UserLine_edit__1fM6l",delete:"UserLine_delete__21KsI"}},,function(e,t,n){e.exports={Button:"Button_Button__1SEiC",success:"Button_success__zCB02",cancel:"Button_cancel__3s2A4",filter:"Button_filter__3NEkt",addUser:"Button_addUser__1RZCV"}},function(e,t,n){e.exports={Users:"Users_Users__3ay6W",title:"Users_title__1kanw"}},function(e,t,n){e.exports={Form:"Form_Form__124RB",section:"Form_section__1_TjB"}},,function(e,t,n){e.exports={Layout:"Layout_Layout__3AaxZ"}},function(e,t,n){e.exports={PositionList:"PositionList_PositionList__BngLA"}},function(e,t,n){e.exports={Backdrop:"Backdrop_Backdrop__tQwFV"}},function(e,t,n){e.exports={Input:"Input_Input__2V3IF"}},,,,,,,function(e,t,n){},function(e,t,n){"use strict";n.r(t);var s=n(0),i=n(1),r=n(15),a=n.n(r),o=(n(26),n(3)),c=n(4),d=n(6),l=n(5),u=n(16),j=n.n(u),f=function(e){Object(d.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(o.a)(this,n);for(var s=arguments.length,i=new Array(s),r=0;r<s;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state={nemu:!1},e}return Object(c.a)(n,[{key:"render",value:function(){return Object(s.jsx)("div",{className:j.a.Layout,children:Object(s.jsx)("main",{children:this.props.children})})}}]),n}(i.Component),p=n(20),b=n(10),O=n.n(b),h=function(e){return Object(s.jsxs)("div",{className:O.a.UserLine,"data-id":"userline",children:[Object(s.jsx)("div",{children:e.user.name}),Object(s.jsx)("div",{children:e.user.age}),Object(s.jsx)("div",{children:e.user.gender}),Object(s.jsx)("div",{children:e.user.position}),Object(s.jsxs)("div",{children:[Object(s.jsx)("i",{className:"fa fa-user-edit ".concat(O.a.edit),onClick:function(){e.onEdit()},id:e.user.id,"data-id":"edit-icon"}),Object(s.jsx)("i",{className:"fa fa-trash ".concat(O.a.delete),onClick:e.onDelete,"data-id":"delete"})]})]})},m=n(2),g=n.n(m),x=function(e){return Object(s.jsxs)("div",{className:g.a.UsersHead,children:[Object(s.jsxs)("div",{className:g.a.icons,children:[Object(s.jsx)("p",{children:"\u0418\u043c\u044f"}),Object(s.jsxs)("div",{className:g.a.sort,children:[Object(s.jsx)("i",{className:"fa fa-sort-up",onClick:function(){return e.onSort("name","down")}}),Object(s.jsx)("i",{className:"fa fa-sort-down",onClick:function(){return e.onSort("name","up")}})]})]}),Object(s.jsxs)("div",{className:g.a.icons,children:[Object(s.jsx)("p",{children:"\u0412\u043e\u0437\u0440\u0430\u0441\u0442"}),Object(s.jsxs)("div",{className:g.a.sort,children:[Object(s.jsx)("i",{className:"fa fa-sort-up",onClick:function(){return e.onSort("age","up")}}),Object(s.jsx)("i",{className:"fa fa-sort-down",onClick:function(){return e.onSort("age","down")}})]})]}),Object(s.jsxs)("div",{className:g.a.icons,children:[Object(s.jsx)("p",{children:"\u041f\u043e\u043b"}),Object(s.jsxs)("div",{className:g.a.sort,children:[Object(s.jsx)("i",{className:"fa fa-sort-up",onClick:function(){return e.onSort("gender","up")}}),Object(s.jsx)("i",{className:"fa fa-sort-down",onClick:function(){return e.onSort("gender","down")}})]})]}),Object(s.jsxs)("div",{className:g.a.icons,children:[Object(s.jsx)("p",{children:"\u0414\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c"}),Object(s.jsxs)("div",{className:g.a.sort,children:[Object(s.jsx)("i",{className:"fa fa-sort-up",onClick:function(){return e.onSort("position","up")}}),Object(s.jsx)("i",{className:"fa fa-sort-down",onClick:function(){return e.onSort("position","down")}})]}),Object(s.jsx)("div",{className:g.a.sort,children:Object(s.jsx)("i",{"data-id":"filter-icon",className:"fa fa-filter",onClick:e.onFilter})})]})]})},v=n(17),_=n.n(v),U=n(12),k=n.n(U),C=function(e){var t=[k.a.Button,k.a[e.type]];return Object(s.jsx)("button",{type:"button",onClick:e.onClick,className:t.join(" "),disabled:e.disabled,children:e.children})},y=function(e){return Object(s.jsxs)("form",{id:"filter-form",className:_.a.PositionList,"data-id":"filter-list",children:[e.positions.map((function(e){return Object(s.jsxs)("label",{children:[Object(s.jsx)("input",{type:"checkbox",id:e}),e]},e)})),Object(s.jsx)(C,{"data-id":"apply-filter",type:"filter",onClick:function(){e.onFilter(function(){for(var e=document.getElementById("filter-form").getElementsByTagName("input"),t=[],n=0;n<e.length;n++)e[n].checked&&t.push(e[n].id);return t}())},children:"\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c"})]})},S=n(18),N=n.n(S),F=function(e){return Object(s.jsx)("div",{className:N.a.Backdrop,onClick:e.onClick,"data-id":"backdrop"})},B=n(13),I=n.n(B),E=[{name:"\u0410\u043d\u0442\u043e\u043d",id:"1",age:20,gender:"\u043c\u0443\u0436",position:"\u0418\u043d\u0436\u0435\u043d\u0435\u0440"},{name:"\u0410\u043d\u0442\u043e\u043d",id:"10",age:34,gender:"\u043c\u0443\u0436",position:"\u0418\u043d\u0436\u0435\u043d\u0435\u0440"},{name:"\u041a\u043e\u043b\u044f",id:"2",age:23,gender:"\u043c\u0443\u0436",position:"\u0414\u0438\u0440\u0435\u043a\u0442\u043e\u0440"},{name:"\u042e\u043b\u044f",id:"3",age:25,gender:"\u0436\u0435\u043d",position:"\u0411\u0443\u0445\u0433\u0430\u043b\u0442\u0435\u0440"},{name:"\u0414\u0436\u043e\u043d",id:"4",age:31,gender:"\u043c\u0443\u0436",position:"\u041e\u0445\u0440\u0430\u043d\u043d\u0438\u043a"},{name:"\u0412\u043b\u0430\u0434\u0438\u043c\u0438\u0440",id:"5",age:17,gender:"\u043c\u0443\u0436",position:"\u0421\u0442\u0443\u0434\u0435\u043d\u0442"},{name:"\u0414\u0436\u0435\u0441\u0441\u0438\u043a\u0430",id:"6",age:40,gender:"\u0436\u0435\u043d",position:"\u0412\u0430\u0445\u0442\u0435\u0440"}],L=n(8),w=n(19),A=n.n(w),V=function(e){return Object(s.jsxs)("div",{className:A.a.Input,children:[Object(s.jsx)("p",{children:e.label}),Object(s.jsx)("input",{id:e.id,onChange:e.validation,defaultValue:e.defaultValue}),e.isValid?"":Object(s.jsx)("span",{children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435"})]})},H=n(14),P=n.n(H);var T=function(e){var t=Object(i.useState)(!0),n=Object(L.a)(t,2),r=n[0],a=n[1],o=Object(i.useState)(!0),c=Object(L.a)(o,2),d=c[0],l=c[1],u=Object(i.useState)(!0),j=Object(L.a)(u,2),f=j[0],p=j[1],b=Object(i.useState)(!1),O=Object(L.a)(b,2),h=O[0],m=O[1],g=[{id:"name",label:"\u0418\u043c\u044f",isValid:r},{id:"age",label:"\u0412\u043e\u0437\u0440\u0430\u0441\u0442",isValid:d},{id:"position",label:"\u0414\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c",isValid:f}],x={name:e.editUser?e.editUser.name:"",age:e.editUser?e.editUser.age:"",gender:e.editUser?e.editUser.gender:"\u043c\u0443\u0436",secondGender:e.editUser?"\u043c\u0443\u0436"===e.editUser.gender?"\u0436\u0435\u043d":"\u043c\u0443\u0436":"\u0436\u0435\u043d",position:e.editUser?e.editUser.position:""};function v(e){return/^[\u0410-\u042f][\u0430-\u044f]+$/.test(e)}function _(e){return/^[1-9][0-9]?$/.test(e)}function U(e){return/^[\u0410-\u042f][\u0430-\u044f]+(((\s\d+)?(\s[\u0430-\u044f]+)?)?)+$/.test(e)}function k(e){switch(e.target.id){case"name":v(e.target.value)?a(!0):a(!1);break;case"age":_(e.target.value)?l(!0):l(!1);break;case"position":U(e.target.value)?p(!0):p(!1)}!function(){var e=document.getElementById("name"),t=document.getElementById("age"),n=document.getElementById("position");v(e.value)&&_(t.value)&&U(n.value)?m(!0):m(!1)}()}return Object(s.jsx)("div",{className:P.a.Form,"data-id":"form",children:Object(s.jsxs)("form",{id:"form",children:[Object(s.jsx)("h1",{children:e.title}),g.map((function(e,t){return Object(s.jsxs)("div",{children:[Object(s.jsx)(V,{label:e.label,id:e.id,validation:k,isValid:e.isValid,defaultValue:x[e.id]}),1===t?Object(s.jsxs)("div",{className:P.a.section,children:[Object(s.jsx)("p",{children:"\u041f\u043e\u043b"}),Object(s.jsxs)("select",{id:"gender",children:[Object(s.jsx)("option",{children:x.gender}),Object(s.jsx)("option",{children:x.secondGender})]})]},"select"):null]},t)})),Object(s.jsx)(C,{type:"success",disabled:!h,onClick:function(){e.onClick(function(){var t=document.getElementById("name"),n=document.getElementById("age"),s=document.getElementById("gender"),i=document.getElementById("position");return{name:t.value,age:n.value,gender:s.value,position:i.value,id:e.editUser?e.editUser.id:""}}()),e.onClose()},children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),Object(s.jsx)(C,{"data-id":"cancel",type:"cancel",onClick:function(){return e.onClose()},children:"\u041e\u0442\u043c\u0435\u043d\u0430"})]})})},J=function(e){Object(d.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(o.a)(this,n);for(var s=arguments.length,i=new Array(s),r=0;r<s;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state={users:sessionStorage.getItem("users")?JSON.parse(sessionStorage.getItem("users")):E,filterArr:[],uniquePositions:[],isFilterOpen:!1,addUserisOpen:!1,editUserisOpen:!1,editUser:""},e.sort=function(t,n){var s=e.state.users;"up"===n?s.sort((function(e,n){return e[t]>n[t]?1:-1})):s.sort((function(e,n){return e[t]<n[t]?1:-1})),e.setState({users:s})},e.getFilterArr=function(t){e.setState({filterArr:t,isFilterOpen:!1})},e.handleAddForm=function(){var t=e.state.addUserisOpen;e.setState({addUserisOpen:!t})},e.handleEditForm=function(t){var n=e.state.users.find((function(e){return e.id===t})),s=e.state.editUserisOpen;e.setState({editUserisOpen:!s,editUser:n})},e.createUser=function(t){var n="f".concat((~~(1e8*Math.random())).toString(16)),s={name:t.name,id:n,age:t.age,gender:t.gender,position:t.position},i=e.state.users;i.push(s),e.setState({users:i}),e.saveToStorage(i)},e.editUser=function(t){var n=e.state.users.map((function(e){return e.id===t.id?t:e}));e.setState({users:n}),e.saveToStorage(n)},e.filterHandler=function(t,n){return n.length?t.filter((function(t){return e.filter(t,n)})):t},e.backdropHandler=function(){e.setState({isFilterOpen:!1,addUserisOpen:!1,editUserisOpen:!1})},e}return Object(c.a)(n,[{key:"saveToStorage",value:function(e){sessionStorage.setItem("users",JSON.stringify(e))}},{key:"deleteUser",value:function(e){var t=this.state.users,n=t.find((function(t){return t.id===e}));t.splice(t.indexOf(n),1),this.setState({users:t}),this.saveToStorage(t)}},{key:"filter",value:function(e,t){for(var n=0;n<t.length;n++)if(e.position===t[n])return!0;return!1}},{key:"toggleFilter",value:function(){var e=this.state.isFilterOpen,t=Object(p.a)(new Set(this.state.users.map((function(e){return e.position}))));this.setState({isFilterOpen:!e,uniquePositions:t})}},{key:"render",value:function(){var e=this;return Object(s.jsxs)("div",{className:I.a.Users,children:[this.state.isFilterOpen?Object(s.jsx)(y,{positions:this.state.uniquePositions,onFilter:this.getFilterArr}):null,this.state.addUserisOpen?Object(s.jsx)(T,{onClick:this.createUser,onClose:this.handleAddForm,title:"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"}):null,this.state.editUserisOpen?Object(s.jsx)(T,{onClose:this.handleEditForm,editUser:this.state.editUser,onClick:this.editUser,title:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"}):null,this.state.isFilterOpen||this.state.addUserisOpen||this.state.editUserisOpen?Object(s.jsx)(F,{onClick:this.backdropHandler}):null,Object(s.jsx)("h1",{className:I.a.title,children:"\u0421\u043f\u0438\u0441\u043e\u043a \u0432\u0441\u0435\u0445 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439"}),Object(s.jsx)(C,{"data-id":"add-user",type:"addUser",onClick:function(){return e.handleAddForm()},children:"\u0414\u043e\u0431\u0430\u0432\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"}),Object(s.jsx)(x,{onSort:this.sort,onFilter:function(){return e.toggleFilter()}}),this.filterHandler(this.state.users,this.state.filterArr).map((function(t,n){return Object(s.jsx)(h,{user:t,onDelete:function(){e.deleteUser(t.id)},onEdit:function(){return e.handleEditForm(t.id)}},n)}))]})}}]),n}(i.Component),q=function(e){Object(d.a)(n,e);var t=Object(l.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return Object(s.jsx)(f,{children:Object(s.jsx)(J,{})})}}]),n}(i.Component),D=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,28)).then((function(t){var n=t.getCLS,s=t.getFID,i=t.getFCP,r=t.getLCP,a=t.getTTFB;n(e),s(e),i(e),r(e),a(e)}))},R=Object(s.jsx)(q,{});a.a.render(R,document.getElementById("root")),D()}],[[27,1,2]]]);
//# sourceMappingURL=main.153f5756.chunk.js.map